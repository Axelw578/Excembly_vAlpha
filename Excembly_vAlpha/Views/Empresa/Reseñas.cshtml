@model Excembly_vAlpha.ViewModels.EmpresaViewModel
@{
    Layout = null;
}
<!-- Incluir CSS personalizado para el carrusel -->
<link rel="stylesheet" href="~/css/ReseñasCarrusel.css" />
<!-- Incluir JS personalizado para el modal de imagen ampliada -->
<script src="~/js/reseñasCarrusel.js"></script>
<!-- Incluir Bootstrap 5.3.3 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Incluir jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- Incluir Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<div class="container mt-4">
    <!-- Título de la sección -->
    <h2 class="text-center titulo-reseñas">Comentarios Recientes</h2>

    <!-- Carrusel de Reseñas -->
    <div id="carouselReseñas" class="carousel slide" data-bs-ride="carousel">
        <!-- Contenedor de los elementos del carrusel -->
        <div class="carousel-inner">
            @foreach (var reseña in Model.Reseñas)
            {
                <div class="carousel-item @(Model.Reseñas.IndexOf(reseña) == 0 ? "active" : "")" style="height: 350px;">
                    <!-- Tarjeta de la reseña -->
                    <div class="reseña-item p-3">
                        <!-- Sección superior de la reseña: Foto, nombre y fecha-->
                        <div class="reseña-header d-flex align-items-center mb-2">
                            <img src="@reseña.FotoPerfilUrl" alt="Foto de Perfil" class="profile-image-comment me-2">
                            <span class="user-name">@reseña.NombreUsuario</span>
                            <small class="comment-date">@reseña.FechaComentario.ToString("dd MMM yyyy")</small>
                        </div>

                        <!-- Sección del cuerpo de la reseña: Comentario y Imagen -->
                        <div class="reseña-body-container">
                            <p class="comment-text">@reseña.Opinion</p>

                            @if (!string.IsNullOrEmpty(reseña.FotoComentarioUrl))
                            {
                                <div class="comentario-imagen ms-3">
                                    <img src="@reseña.FotoComentarioUrl" alt="Imagen del comentario" class="comentario-img">
                                </div>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>

        <!-- Puntos de navegación del carrusel -->
        <ol class="carousel-indicators">
            @for (var i = 0; i < Model.Reseñas.Count(); i++)
            {
                <li data-bs-target="#carouselReseñas" data-bs-slide-to="@i" class="@(i == 0 ? "active" : "")"></li>
            }
        </ol>

        <!-- Controles de navegación -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselReseñas" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselReseñas" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
        </button>
    </div>
</div>

<div class="mt-4" style="height: 40px;"></div>



